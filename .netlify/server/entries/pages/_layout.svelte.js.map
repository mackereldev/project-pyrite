{"version":3,"file":"_layout.svelte.js","sources":["../../../../../node_modules/.pnpm/svelte@4.1.1/node_modules/svelte/src/runtime/internal/environment.js","../../../../../node_modules/.pnpm/svelte@4.1.1/node_modules/svelte/src/runtime/internal/loop.js","../../../../../node_modules/.pnpm/svelte@4.1.1/node_modules/svelte/src/runtime/motion/utils.js","../../../../../node_modules/.pnpm/svelte@4.1.1/node_modules/svelte/src/runtime/motion/tweened.js","../../../../../src/lib/components/ToastElement.svelte","../../../../../src/lib/components/ToastContainer.svelte","../../../../../src/routes/+layout.svelte"],"sourcesContent":["import { noop } from './utils.js';\n\nexport const is_client = typeof window !== 'undefined';\n\n/** @type {() => number} */\nexport let now = is_client ? () => window.performance.now() : () => Date.now();\n\nexport let raf = is_client ? (cb) => requestAnimationFrame(cb) : noop;\n\n// used internally for testing\n/** @returns {void} */\nexport function set_now(fn) {\n\tnow = fn;\n}\n\n/** @returns {void} */\nexport function set_raf(fn) {\n\traf = fn;\n}\n","import { raf } from './environment.js';\n\nconst tasks = new Set();\n\n/**\n * @param {number} now\n * @returns {void}\n */\nfunction run_tasks(now) {\n\ttasks.forEach((task) => {\n\t\tif (!task.c(now)) {\n\t\t\ttasks.delete(task);\n\t\t\ttask.f();\n\t\t}\n\t});\n\tif (tasks.size !== 0) raf(run_tasks);\n}\n\n/**\n * For testing purposes only!\n * @returns {void}\n */\nexport function clear_loops() {\n\ttasks.clear();\n}\n\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n * @param {import('./private.js').TaskCallback} callback\n * @returns {import('./private.js').Task}\n */\nexport function loop(callback) {\n\t/** @type {import('./private.js').TaskEntry} */\n\tlet task;\n\tif (tasks.size === 0) raf(run_tasks);\n\treturn {\n\t\tpromise: new Promise((fulfill) => {\n\t\t\ttasks.add((task = { c: callback, f: fulfill }));\n\t\t}),\n\t\tabort() {\n\t\t\ttasks.delete(task);\n\t\t}\n\t};\n}\n","/**\n * @param {any} obj\n * @returns {boolean}\n */\nexport function is_date(obj) {\n\treturn Object.prototype.toString.call(obj) === '[object Date]';\n}\n","import { writable } from '../store/index.js';\nimport { assign, loop, now } from '../internal/index.js';\nimport { linear } from '../easing/index.js';\nimport { is_date } from './utils.js';\n\n/** @returns {(t: any) => any} */\nfunction get_interpolator(a, b) {\n\tif (a === b || a !== a) return () => a;\n\tconst type = typeof a;\n\tif (type !== typeof b || Array.isArray(a) !== Array.isArray(b)) {\n\t\tthrow new Error('Cannot interpolate values of different type');\n\t}\n\tif (Array.isArray(a)) {\n\t\tconst arr = b.map((bi, i) => {\n\t\t\treturn get_interpolator(a[i], bi);\n\t\t});\n\t\treturn (t) => arr.map((fn) => fn(t));\n\t}\n\tif (type === 'object') {\n\t\tif (!a || !b) throw new Error('Object cannot be null');\n\t\tif (is_date(a) && is_date(b)) {\n\t\t\ta = a.getTime();\n\t\t\tb = b.getTime();\n\t\t\tconst delta = b - a;\n\t\t\treturn (t) => new Date(a + t * delta);\n\t\t}\n\t\tconst keys = Object.keys(b);\n\t\tconst interpolators = {};\n\t\tkeys.forEach((key) => {\n\t\t\tinterpolators[key] = get_interpolator(a[key], b[key]);\n\t\t});\n\t\treturn (t) => {\n\t\t\tconst result = {};\n\t\t\tkeys.forEach((key) => {\n\t\t\t\tresult[key] = interpolators[key](t);\n\t\t\t});\n\t\t\treturn result;\n\t\t};\n\t}\n\tif (type === 'number') {\n\t\tconst delta = b - a;\n\t\treturn (t) => a + t * delta;\n\t}\n\tthrow new Error(`Cannot interpolate ${type} values`);\n}\n\n/**\n * A tweened store in Svelte is a special type of store that provides smooth transitions between state values over time.\n *\n * https://svelte.dev/docs/svelte-motion#tweened\n * @template T\n * @param {T} [value]\n * @param {import('./private.js').TweenedOptions<T>} [defaults]\n * @returns {import('./public.js').Tweened<T>}\n */\nexport function tweened(value, defaults = {}) {\n\tconst store = writable(value);\n\t/** @type {import('../internal/private.js').Task} */\n\tlet task;\n\tlet target_value = value;\n\t/**\n\t * @param {T} new_value\n\t * @param {import('./private.js').TweenedOptions<T>} [opts]\n\t */\n\tfunction set(new_value, opts) {\n\t\tif (value == null) {\n\t\t\tstore.set((value = new_value));\n\t\t\treturn Promise.resolve();\n\t\t}\n\t\ttarget_value = new_value;\n\t\tlet previous_task = task;\n\t\tlet started = false;\n\t\tlet {\n\t\t\tdelay = 0,\n\t\t\tduration = 400,\n\t\t\teasing = linear,\n\t\t\tinterpolate = get_interpolator\n\t\t} = assign(assign({}, defaults), opts);\n\t\tif (duration === 0) {\n\t\t\tif (previous_task) {\n\t\t\t\tprevious_task.abort();\n\t\t\t\tprevious_task = null;\n\t\t\t}\n\t\t\tstore.set((value = target_value));\n\t\t\treturn Promise.resolve();\n\t\t}\n\t\tconst start = now() + delay;\n\t\tlet fn;\n\t\ttask = loop((now) => {\n\t\t\tif (now < start) return true;\n\t\t\tif (!started) {\n\t\t\t\tfn = interpolate(value, new_value);\n\t\t\t\tif (typeof duration === 'function') duration = duration(value, new_value);\n\t\t\t\tstarted = true;\n\t\t\t}\n\t\t\tif (previous_task) {\n\t\t\t\tprevious_task.abort();\n\t\t\t\tprevious_task = null;\n\t\t\t}\n\t\t\tconst elapsed = now - start;\n\t\t\tif (elapsed > /** @type {number} */ (duration)) {\n\t\t\t\tstore.set((value = new_value));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// @ts-ignore\n\t\t\tstore.set((value = fn(easing(elapsed / duration))));\n\t\t\treturn true;\n\t\t});\n\t\treturn task.promise;\n\t}\n\treturn {\n\t\tset,\n\t\tupdate: (fn, opts) => set(fn(target_value, value), opts),\n\t\tsubscribe: store.subscribe\n\t};\n}\n","<script lang=\"ts\">\r\n    import { fade, fly } from \"svelte/transition\";\r\n    import { tweened } from \"svelte/motion\";\r\n    import { linear, quintOut, circOut } from \"svelte/easing\";\r\n    import { onMount, createEventDispatcher } from \"svelte\";\r\n    import type ToastData from \"$lib/classes/ToastData\";\r\n    import { Icon, type IconSource } from \"@steeze-ui/svelte-icon\";\r\n    import { QuestionMarkCircle, CheckCircle, InformationCircle, ExclamationCircle, XCircle, XMark } from \"@steeze-ui/heroicons\";\r\n\r\n    export let toast: ToastData;\r\n\r\n    let progressBar: HTMLDivElement;\r\n    const progress = tweened(1, {\r\n        duration: toast.duration,\r\n        easing: linear,\r\n    });\r\n\r\n    const remove = () => {\r\n        dispatch(\"remove\", { toast });\r\n    };\r\n\r\n    onMount(() => {\r\n        if (toast.expires) {\r\n            progress.subscribe((value) => {\r\n                progressBar && (progressBar.style.width = `${value * 100}%`);\r\n\r\n                if (value <= 0) {\r\n                    remove();\r\n                }\r\n            });\r\n\r\n            progress.set(0);\r\n        }\r\n    });\r\n\r\n    let colour: string = \"bg-theme-200\";\r\n    let icon: IconSource = QuestionMarkCircle;\r\n    if (toast.severity === \"success\") {\r\n        colour = \"bg-emerald-200\";\r\n        icon = CheckCircle;\r\n    } else if (toast.severity === \"info\") {\r\n        colour = \"bg-sky-200\";\r\n        icon = InformationCircle;\r\n    } else if (toast.severity === \"warning\") {\r\n        colour = \"bg-yellow-200\";\r\n        icon = ExclamationCircle;\r\n    } else if (toast.severity === \"error\") {\r\n        colour = \"bg-red-200\";\r\n        icon = XCircle;\r\n    }\r\n\r\n    const dispatch = createEventDispatcher();\r\n</script>\r\n\r\n<div in:fly={{ x: 100, duration: 500, opacity: 1, easing: quintOut }} out:fade={{ duration: 200, easing: circOut }} class=\"flex h-20 w-96\">\r\n    <button on:click={remove} class=\"relative flex flex-grow items-center gap-3 truncate rounded-lg px-4 {colour}\">\r\n        <Icon src={icon} class=\"h-8 w-8 stroke-zinc-600\" />\r\n        <div class=\"flex flex-grow flex-col items-start text-zinc-600\">\r\n            <div class=\"text-lg font-medium\">{toast.message}</div>\r\n            <div class=\"text-sm\">{toast.detail}</div>\r\n        </div>\r\n        <Icon src={XMark} class=\"h-7 w-7 stroke-neutral-800/20 stroke-2 transition-colors hover:stroke-neutral-600/50\" />\r\n        {#if toast.expires}\r\n            <div bind:this={progressBar} class=\"absolute bottom-0 left-0 h-1 bg-neutral-800/20\" />\r\n        {/if}\r\n    </button>\r\n</div>\r\n","<script lang=\"ts\">\r\n    import type ToastData from \"$lib/classes/ToastData\";\r\n    import ToastElement from \"./ToastElement.svelte\";\r\n\r\n    export let toasts: ToastData[] = [];\r\n\r\n    export const addToasts = (...toastData: ToastData[]) => {\r\n        toasts = toasts.concat(toastData);\r\n    };\r\n\r\n    const remove = (event: CustomEvent) => {\r\n        toasts = toasts.filter((t) => t !== event.detail.toast);\r\n    };\r\n</script>\r\n\r\n<div class=\"fixed bottom-0 right-0 z-10 flex flex-col-reverse gap-2 p-2\">\r\n    {#each toasts as toast (toast)}\r\n        <ToastElement {toast} on:remove={remove} />\r\n    {/each}\r\n</div>\r\n","<script lang=\"ts\">\r\n    import \"../app.css\";\r\n    import { toastContainerStore } from \"$lib/classes/Stores\";\r\n    import ToastContainer from \"$lib/components/ToastContainer.svelte\";\r\n</script>\r\n\r\n<svelte:head>\r\n    <title>Chat App</title>\r\n</svelte:head>\r\n\r\n<ToastContainer bind:this={$toastContainerStore} />\r\n\r\n<slot />\r\n"],"names":["now","linear"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}